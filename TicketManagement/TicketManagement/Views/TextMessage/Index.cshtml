@using TicketManagement.Helpers
@model TicketManagement.ViewModels.AllTextMessagesViewModel


@{
    ViewBag.Title = "Text Messages";
    Layout = "~/Views/Shared/_Layout_Standard.cshtml";
}

@{
    var temp = Model;
    TextMessageHelper txtManager = new TextMessageHelper();
}

<h2>Text Message Management</h2>
<hr/>

<div class="container">
    <div class="row">
        <div class="col-md-2">
            <button class="btn btn-default disabled" type="button" style="width: 100%">
                Balance <span class="badge">@txtManager.CheckBalance()</span>
            </button>
            <hr/>
            <p>
                @Html.ActionLink("New Message", "Send", null, new {@class = "btn btn-success"})
            </p>
        </div>
        <div class="col-md-10">
            <h4>Sent Messages</h4>
            <br/>
            <table class="table table-hover table-striped table-responsive">
                <tr>
                    <th>Recipient</th>
                    <th>
                        Message
                    </th>
                    <th>
                        Sent
                    </th>
                </tr>

                @foreach (var text in Model.SentMessages)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => text.UserTo.FullName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => text.Content)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => text.Sent)
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-10 col-md-offset-2">
            <hr />
            <h4>Recieved Messages</h4>
            <br/>
            <table class="table table-hover table-striped table-responsive">
                <tr>
                    <th>Recipient</th>
                    <th>
                        Message
                    </th>
                    <th>
                        Received
                    </th>
                </tr>

                @foreach (var text in Model.ReceivedMessages)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => text.To)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => text.Content)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => text.Received)
                        </td>
                    </tr>
                }
            </table>

        </div>
    </div>
</div>

